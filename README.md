# Log Analysis Script

This project analyses web server log files to extract key information such as the number of requests made per IP address, the most frequently accessed endpoint, and potential suspicious activities. The results are displayed in the terminal and saved/written to a structured CSV file for further analysis.

---

## **Features**
1. Count the number of requests made by each IP address.
2. Identify the most frequently accessed endpoint.
3. Detect potential brute force login attempts based on failed login attempts above a certain threshold.
4. Output results to a CSV file named `log_analysis_results.csv`.

---

## **Setup Instructions**

### Prerequisites
1. Python 3.8 or later must be installed on your system.
2. Install the required Python packages.

### Steps to Set Up
1. Clone this repository or download the project folder.
   ```bash
   git clone <repository_url>
   cd log-analysis-script
   ```

2. Create a virtual environment (optional but recommended).
   ```bash
   python -m venv venv
   source venv/bin/activate       # For macOS/Linux
   venv\Scripts\activate          # For Windows
   ```

3. Install the required dependencies using `pip`.
   ```bash
   pip install -r requirements.txt
   ```

---

## **Running the Program**

### Steps
1. Ensure the log file i.e., (`sample.log`) is in the project directory.
2. Navigate to the `/src` directory.
3. Run the main script.
   ```bash
   python main.py
   ```

4. View the output in the terminal or check the `log_analysis_results.csv` file generated in the project directory.

---

## **Dependencies**

All required dependencies are listed in `requirements.txt`. These include:
- `csv` (for saving output to CSV files)
- Standard Python libraries such as `collections` and `re` for log parsing

To install all dependencies, use:
```bash
pip install -r requirements.txt
```

---

## **File Structure**
```
Log Analysis/
├── data/
│   └── sample.log       # Sample log file
├── output/
│   └── log_analysis_results.csv  # Output CSV file (generated by the script)
├── src/
│   ├── __init__.py      # Package initializer
│   ├── main.py          # Main script
│   ├── log_parser.py    # Log parsing utilities
│   ├── analysis.py      # Analysis logic
│   └── output_writer.py # CSV writing utilities
├── README.md            # Documentation
└── requirements.txt     # Python dependencies

```

---

## **Customizing Settings**

You can customize the suspicious activity threshold by modifying the `detect_suspicious_activity` function in `log_parser.py`. Change the `threshold` parameter to suit your needs.

---

## **Sample Log File**

The repository includes a `sample.log` file to test the program. You can replace it with your own log files for analysis.

---

## **Support**

If you encounter any issues or have questions, feel free to raise an issue.